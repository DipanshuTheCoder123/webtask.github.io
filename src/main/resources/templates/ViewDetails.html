<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="ISO-8859-1">
    <title>Product Details</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>

<body>
    
    <div th:replace="~{base :: parent}"> </div>
    <section>
        <div class="container card-sh" style="margin-top: 70px; margin-bottom: 100px">

            <div class="col-md-12 p-5">
                <div class="row">
                    <!-- <p class="text-success alert alert-success text-center" role="alert">Session Success Message</p>
					<p class="text-danger text-center alert alert-danger">Session Error Message</p> -->

                    <div class="col-md-6 text-end">
                        <img alt="" src="/img/product_img/sample_image.jpg" width="300px" height="250px">
                    </div>

                    <div class="col-md-6">

                        <p class="fs-3" th:text="${p1.title}"></p>
                        <p>
                            <span class="fw-bold">Description : </span><br>
                            <span th:text="${p1.description}"></span>
                        </p>
                        <p>
                            <th:block th:if="${p1.stock>0}">
                                <span class="badge bg-success">Available</span>
                            </th:block>

                            <th:block th:unless="${p1.stock>0}">
                                <span class="badge bg-warning">out of stock</span>
                            </th:block>
                        </p> 
                        <p class="fs-5 fw-bold">
                            Price :&nbsp; &nbsp; &nbsp; &nbsp;<i class="fas fa-rupee-sign"></i>
                            <span th:text="${p1.discountPrice}"></span><br>
                            <span style="margin-left: 70px;" class="fs-6 text-decoration-line-through text-secondary"
                                th:text="${p1.price}"></span>
                            <span class="fs-6 text-success" th:text="${p1.discount + '%'}"></span>
                        </p>


                        <div class="row">
                            <div class="col-md-4 text-success text-center p-2">
                                <i class="fas fa-money-bill-wave fa-2x"></i>
                                <p>Cash On Delivery</p>
                            </div>
                            <div class="col-md-4 text-danger text-center p-2">
                                <i class="fas fa-undo-alt fa-2x"></i>
                                <p>Return Available</p>
                            </div>
                            <div class="col-md-4 text-primary text-center p-2">
                                <i class="fas fa-truck-moving fa-2x"></i>
                                <p>Free Shipping</p>
                            </div>
                        </div>

                        <th:block th:if="${p1.stock>0}">
							<th:block th:if="${user==null}">
								<a href="/signin" class="btn btn-danger col-md-12">Add To
									Cart</a>
							</th:block>

							<th:block th:unless="${user==null}">
								<a th:href="@{'/user/addCart?pid=' + ${p1.id} + '&uid=' + ${user.id}}"
   class="btn btn-danger col-md-12">Add To Cart</a>

                                
							</th:block>

						</th:block>

                        <th:block th:unless="${p1.stock>0}">
                            <a href="#" class="btn text-white btn-warning col-md-12">Out of Stock</a>
                        </th:block>
                    </div>
                </div>
            </div>
        </div>
    </section>

</body>

</html>